# 🎡 稀有度、权重与几率

## 介绍

奖励使用的是稀有度与权重，而非概率。权重决定了奖励与稀有度的随机几率。

权重可以是任何值，但它会影响所有奖励/稀有度的随机几率。

你可以在[奖励变量](features.reward-placeholders.md)章节查看编辑器内的随机几率。

> [!NOTE|label:提示]
> 如果你遇到了权重低但经常抽中的问题，请确保它们的随机几率在你的预料之中。

## 稀有度

稀有度是一种“分类”奖励的好方法，每种稀有度都有自己的随机几率，这可以让指定的奖励变得更普通或稀有。

当一个宝箱中存在不同稀有度的奖励时，插件会先选择玩家获得奖励的稀有度。然后再基于稀有度选择最终的奖励物品。

若要编辑或创建稀有度，你可前往 `config.yml` -> Rewards -> Rarities。你可以在这里找到一系列默认稀有度的设置。你可以随意编辑或删除它们。

> [!NOTE|label:提示]
> 如果你不喜欢稀有度这个功能，只需将宝箱内所有的奖励都设置为同一稀有度即可（这样无论如何都不会影响最终的随机几率），或在配置文件内设置到只剩一个品质。

> [!WARNING|label:警告]
> 你必须在插件配置中至少留下<font color="red">一个</font>可用的稀有度来让插件正常载入运行。

## 随机几率的计算方式

### 精简版

计算几率按如下公式计算：`<权重>/<权重总和> = <随机几率>%`

### 详细版

让我们拿三个奖励作为示例：

泥土（权重 50）    
苹果（权重 10）    
金锭（权重 2）    

权重总和为 62（50+10+2）。

现在，每个奖励的随机几率会通过上述公式计算：

泥土：`50 / 62 = ~0.8`（80%）
苹果：`10 / 62 = ~0.17`（17%）
金锭：`2 / 62 = ~0.03`（3%）

若你将这些值加起来，则会得到 1.0（100%）。这就是为什么你可以使用任意权重值而插件总能正确均分的原因。

> [!NOTE|label:提示]
> 受奖励稀有度印象的随机几率计算公式如下：
> `<权重> / <权重总和> * (<稀有度权重> / 稀有度权重总和)`