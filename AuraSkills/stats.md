# 属性

属性与 stats.yml 文件的介绍及教程

**属性（Stats）** 是称作**特征（Traits）** 的增益值。玩家的属性等级与其描述可在 `/stats` 或主技能菜单中的属性按钮（默认为玩家头颅）浏览。

属性随技能升级时一并获得；每个技能都有一个初级属性，会在每次升级时增加，次级属性则会间隔一定等级提升。这些都通过[属性奖励](rewards.md)给予。属性也可以由命令附加在物品上的修饰符给予。

**特征（Traits）** 某一方面游戏体验属性效果的数值体现。诸如智慧属性
的经验奖励与魔力上限增加，某些属性有多个效果，特征允许这些效果单独配置并可在属性之间切换。特征会随属性等级的修饰符增加，这允许属性等级能更容易被玩家看懂，而特征只是表现其效果的小数。

默认情况下有九种属性，它们升级影响的特征也一并列出：

* 力量（Strength）-> 伤害值
* 生命（Health）-> 血量值
* 再生（Regeneration）-> 饱和状态恢复、饥饿状态恢复、魔力恢复
* 幸运（Luck）-> 耕作幸运、采集幸运、挖掘新云、采掘幸运、渔获幸运
* 智慧（Wisdom）-> 经验奖励、铁砧消耗、魔力上限
* 韧性（Toughness）-> 减伤
* 暴击率（Crit Chance）-> 暴击率
* 暴击伤害（Crit Damage）-> 暴击伤害
* 速度（Speed）-> 移速

## 配置

属性与特征都在 `stats.yml` 下编辑。每个属性都在 `stats` 下有一块完整命名空间前缀的配置部分（默认属性均为 `auraskills/`）。每个特征在 `traits` 下拥有相似结构的配置。如下为示例的再生属性部分配置，带有注释：

``` YAML
auraskills/regeneration:
  # 是否启用该属性. 禁用后的属性不会生效, 也不会显示在菜单中.
  enabled: true
  # 该属性控制的特征列表.
  traits:
    auraskills/saturation_regen: # 满饥饿度下生命再生的特性
      # 每等级提供该特征的数字. 本示例中, 玩家 
      # 每级再生可额外回复 0.008 生命值.
      modifier: 0.008 
    auraskills/hunger_regen:
      modifier: 0.008
    auraskills/mana_regen:
      modifier: 0.01
```

### 特征选项

每个特征都有自己的可配置项。这些选项在 2.0 版本前分别位于它们的属性部分。如果 `enabled` 选项（所有特征均含）被设置为 false，则特征会失效且不会在菜单中显示。

#### 伤害值

* `hand_damage` - 是否影响空手攻击的伤害。
* `bow_damage` - 是否影响弓弩等弹射物的伤害。
* `display_damage_with_health_scaling` - 若为 true，菜单与伤害指示器的数字会根据 `auraskills/hp` 下的 `action_bar_scaling` 数值进行乘算。
* `user_percent` - 附加的伤害值是否视作基础值的百分比增幅。若为 false，伤害只会加以特征值。

#### 生命值

* `health_scaling` - 是否压缩玩家血量，即高等级情况下 1 心不总是等于 2 点血量。即增加可视生命值的血量上限要求也一并增加，这可以防止过多血量遮挡屏幕。此效果仅影响外观，不会修改玩家显示在诸如 ActionBar 等处的实际血量。压缩数量通过 `hearts` 选项修改。
* `hearts` - 一系列设置，用于调整 `health_scaling` 启用后的血量压缩情况。键为心的数量，值为实际血量数量。例如，`'17': 48` 表示玩家拥有 48 点生命值（ActionBar 上显示的数值）时显示为 17 颗心（第七颗额外心）。
* `action_bar_scaling` - ActionBar 上显示的血量数值会乘以该值（若 `display_damage_with_health_scaling` 启用，则伤害值也会乘以该值）。
* `update_delay` - 玩家重新加入或切换世界时重新计算显示生命值的延迟，单位为刻。如果你在使用修改较高生命值的小游戏类插件时碰到了问题，请将其设置为 `1`。
* `force_base_health` - 若为 true，玩家基础生命值属性会在每次刷新时重置为 20。仅在遇到兼容性问题时启用该选项。
* `keep_full_on_increase` - 若为 true，玩家最大生命值提升时会自动补满。
* `ensure_scaling_enabled` - 特征禁用时一并禁用血量压缩。若你正在使用其他插件决定血量压缩，请将其设置为 false。

#### 饱和状态恢复与饥饿状态恢复

* `use_custom_delay` - 若为 true，原版生命恢复的机制会被插件的自定义计时、延迟与基础值恢复系统覆盖。
* `delay` - 若启用了 `use_custom_delay`，则该项决定生命恢复的间隔，单位为刻。
* `base` - 若启用了 `use_custom_delay`，则该项决定恢复的基础血量。

#### 魔力再生

* `base` - 特征等级为 0 时每秒再生的基础魔力值。

#### 双倍掉落

* `max_percent` - 触发方块双倍掉落的几率。

#### 魔力上限

* `allow_overflow` - 是否允许魔力值溢出上限，如玩家魔力上限降低时该选项可决定是否丢弃多余部分魔力。
* `base` - 特征等级为 0 时玩家拥有的基础魔力上限。

#### 减伤

* `formula` - 特征值计算减伤的公式。输入值 `value` 为特征值（乘以特征倍率即为属性值）。表达式的结果应当是一个 0 至 1 之间的小数，0 表示无减伤，1 表示完全减伤。例如，表达式返回 0.32 即为 32% 减伤。

#### 暴击率

* `base` - 特征等级为 0 时的基础暴击率。

#### 暴击伤害

* `base` - 特征等级为 0 时的基础暴击伤害。

#### 移速

* `max` - 最大移速值。