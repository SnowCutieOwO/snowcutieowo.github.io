# Bukkit 世界创建

::: info

本教程适用于 **Bukkit** 版本的 Terra。

[其他平台的安装方法见此](getting-started.md) >

:::

::: warning

我们会将服务器的默认世界替换为使用 Terra 的世界。

因为我们正在对世界进行改动，请确保你在进行任何破坏性改动前**备份了必要文件**！

:::

我们会将服务器的默认世界替换为使用 Terra 生成器的新世界。

如果你希望使用诸如 Multiverse Core 的世界管理插件创建，而非手动设置配置，请阅读“通过世界管理器设置世界生成器”章节。

## 步骤

1. 确保服务器已经关闭。
2. 如果你没有读过上述的警告内容，请对服务器文件夹内重要的世界进行备份。
3. 通过如下步骤修改配置文件，使用新的生成器：
  1. 使用任意文本编辑器，打开服务器目录内的 `bukkit.yml` 文件。
  2. 将如下内容加至文件末尾，使得默认世界使用新生成器：
  ``` YAML
  worlds:
    世界名称:
      generator: Terra:包 ID
  ```
4. 将 `世界名称` 替换为服务器配置的 `level-name`（可以在 `server.properties` 下 `level-name` 处找到。默认情况下为 `world`。）
  以 `levle-name` 值为默认的 `world` 作示例：
  ``` YAML
  worlds:
    world:
      generator: Terra:包 ID
  ```
5. 将 `包 ID` 改为已有的配置包 ID。Terra 的默认配置包 ID 为 `OVERWORLD`，如果你没有安装其他配置包，请将 `包 ID` 替换为 `OVERWORLD`。  
  此为上述示例，使用了默认的 `OVERWORLD` 配置包：
  ``` YAML
  worlds:
    world:
      generator: Terra:OVERWORLD
  ```
6. 删除服务器目录内对应名称的世界文件夹（名称在上文有提及），或将其重命名为其他内容（如 `world_backup`）。
7. 启动服务器

::: info

你的服务器应该会在启动后重新生成世界。

:::

## 设置其他世界

如果你先前已经完成如上操作，希望为**现存**的其他世界（如下界或末地）设置新生成器，你只需在 `worlds` 处添加内容，如下所示：

``` YAML {4-5}
 worlds:
   existing_world_name:
     generator: Terra:EXAMPLE_PACK_1
   another_world_name:
     generator: Terra:EXAMPLE_PACK_2
```

::: tip

非常推荐将世界管理插件生成的自定义生成器世界填入此列表，防止世界管理插件失效。一般来讲，世界管理插件只负责分配生成器，如果失败则服务器会默认使用这个配置，若未找到就会使用默认生成器。

以 bukkit 配置为后路可以防止服务器在出错时生成原版地形（这会导致区块生成错误，且难以修复）。

:::

::: warning

这只会为服务器上的现存世界设置生成器，如果配置中的世界尚未创建，Bukkit 不会创建新的世界。如果你需要创建除默认主世界、下界或末地外的世界，则你需要安装一个世界管理插件

我们不推荐为已投入使用的世界使用新的生成器，你只应该将其作为后备手段，除非服务器上对应的世界已经创建但尚未生成。对于后者的情况，你应当先在使用生成器并启动服务器之前清理原本的世界数据。

:::

## 问题排查

如果你在世界设置过程中碰到了问题，请确保你仔细按照各个步骤进行了设置。在服务端日志中检查可能出现的报错，并尝试自行排除问题所在。

如果你未能成功创建世界，并且尝试自行解决无果，随时可以[寻求帮助](contact-and-support.md)并提供相关信息，尤其是上述的日志！