# 银行日志菜单

在这里你可以找到自定义银行日志的教程。

## 全局设置

首先，通过 `title`（字符串）设置为菜单赋予自定义标题。之后，你可以自行配置其他选项：`previous-menu`（布尔值）决定是否在关闭菜单后显示上级菜单，`type`（字符串）决定菜单显示的界面类型，`open-sound`（声音格式）可以在打开菜单时播放自定义音效。

::: info

你可以在[这里](https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/event/inventory/InventoryType.html)找到有效的界面类型。

:::

## 排版设置

让我们着手研究排版。排版部分决定了菜单的显示样式。这是一系列字符串，其中的每个字符都代表着菜单中显示的一个按钮。它应当包含一至六行的字符串，每个字符串包含九个字符——空格不算作字符。如果不同格子有两个相同的字符，则这两个格子会显示相同的物品。物品的实际显示内容不在这里配置，而是在 `items` 部分。

## 分页式菜单设置

银行日志菜单是分页菜单，它会显示一列可用的物品——在这里就是银行交易日志。因它的数量可能会大于菜单实际拥有的格子数量，那么菜单就需要分成多页。

这些类型的菜单有四个额外选项：
* `slots` - 代表着银行交易日志的按钮。
* `previous-page` - 代表着翻回上一页的按钮。
* `current-page` - 代表着当前页的按钮。
* `next-page` - 代表着翻到下一页的按钮。

## 日志相关设置

银行日志有两个可配置的额外设置。首先是 `time-sort`，代表着点击后会将日志按时间排序的按钮。与之相似的则是 `money-sort`，代表着点击后会将日志按交易数额排序的按钮。只需将代表它们的字符填入排版设置中即可将这些按钮置入菜单。

::: info

如果你不需要这些按钮，只需将它们的设置从配置中删去即可。

:::

## 物品设置

这就是你配置物品的地方。你可以在[这里](overview.menus.md#编辑菜单内的物品)找到如何正确配置物品的教程。

### 自定义变量

分页菜单（`slots`、`previous-page` 等）支持嵌入内建变量！

* `slots` - 
  * `{0}` - 交易 ID
  * `{1}` - 参与交易的玩家名称
  * `{2}` - 交易类型（取款/存款）
  * `{3}` - 交易完成的时间
  * `{4}` - 交易数额
  * `{5}` - 按逗号分隔格式显示的交易数额
  * `{6}` - 按缩写格式显示的交易数额，`K` 表示千，`M` 表示百万，`B` 表示十亿，`T` 表示万亿，`Q` 表示千万亿。
* `previous-page`、`next-page` - 
  * `{0}` - 若存在下一页则显示为绿色（`&a`），反之则为红色（`&c`）
* `current-page` -
  * `{0}` - 当前页码

## 声音设置

在这部分配置中你可以自定义玩家点击物品时发出的音效。你可以在[这里](overview.menus.md#物品音效)找到正确配置音效的教程。

## 权限设置

在这部分配置中你可以自定义玩家点击物品所需要的权限。你可以在[这里](overview.menus.md#权限部分)找到正确配置权限条件的教程。

## 菜单实例

这是银行日志菜单的示例配置，涵盖了本章节教程提及的大部分技术及功能。

``` YAML
# 原文尚无内容显示...
```

<!-- 未完成：

     原因：缺少原文的代码片段。
 -->