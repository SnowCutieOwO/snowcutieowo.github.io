import{_ as r,C as i,c as p,o as h,b1 as l,j as s,G as t,a,t as k}from"./chunks/framework.CC7vnuC4.js";const _=JSON.parse('{"title":"菜单","description":"","frontmatter":{"breadcrumbs":[{"title":"Continue Project","link":"/AuraSkills"},{"title":"菜单","link":"/AuraSkills/menus"}]},"headers":[],"relativePath":"AuraSkills/menus.md","filePath":"AuraSkills/menus.md"}'),c={name:"AuraSkills/menus.md"};function u(n,e,E,g,m,b){const o=i("NolebaseGitContributors"),d=i("NolebaseGitChangelog");return h(),p("div",null,[e[12]||(e[12]=l('<h1 id="菜单" tabindex="-1">菜单 <a class="header-anchor" href="#菜单" aria-label="Permalink to &quot;菜单&quot;">​</a></h1><p>配置菜单的教程</p><p>菜单可以在游戏内为玩家显示技能相关信息。主技能菜单通过命令 <code>/skills</code> 打开，其下的子菜单则可分别通过按钮打开。菜单的外观与样式可以在 <code>menus/</code> 文件夹中修改，其内的文本在消息文件中修改。</p><div class="info custom-block"><p class="custom-block-title">信息</p><p>插件使用了 Slate 库构建菜单；更多配置物品、模板与描述的教程可在其对应维基浏览。</p></div><h2 id="菜单列表" tabindex="-1">菜单列表 <a class="header-anchor" href="#菜单列表" aria-label="Permalink to &quot;菜单列表&quot;">​</a></h2><p>插件内含如下菜单：</p><table tabindex="0"><thead><tr><th>菜单名称</th><th>打开方式</th><th>描述</th></tr></thead><tbody><tr><td>skills</td><td><code>/skills</code> 命令</td><td>浏览玩家所有技能状态及进度。</td></tr><tr><td>stats</td><td><code>/stats</code> 命令或点击主技能菜单内的属性按钮（默认为玩家头颅）</td><td>浏览玩家所有属性等级。</td></tr><tr><td>level_progression</td><td>点击主技能菜单中的技能图标或输入对应名称的命令（<code>/farming</code>、<code>/mining</code> 等）打开。</td><td>显示技能的升级线路及对应奖励。包含前往其他技能升级进度的按钮。</td></tr><tr><td>sources</td><td>在升级进度菜单中点击来源图标（默认为附魔之瓶）。</td><td>显示技能所有的经验来源及其数量。</td></tr><tr><td>abilities</td><td>在升级进度菜单中点击能力图标（默认为淡蓝色染料）。</td><td>显示玩家对应技能的能力与魔法能力与其等级。</td></tr><tr><td>leaderboard</td><td>在升级进度菜单中点击排行图标（默认为纸）。</td><td>显示指定技能的前十排行榜。</td></tr></tbody></table><h2 id="文件结构" tabindex="-1">文件结构 <a class="header-anchor" href="#文件结构" aria-label="Permalink to &quot;文件结构&quot;">​</a></h2><p>配置菜单的文件位于 <code>AuraSkills/menus</code> 文件夹下。每个菜单都有其对应的文件。</p><p>如下为大部分菜单都有的键与配置部分的概览：</p><ul><li><code>title</code> - 菜单标题。</li><li><code>size</code> - 菜单行数大小，可填入 <code>1-6</code>（每行九格）。</li><li><code>fill</code> - 用于设置填充空格的背景物品。</li><li><code>items</code> - 单个物品的主要配置部分。</li><li><code>templates</code> - 带有自定义上下文件及多个实例的部分。</li><li><code>components</code> - 部分模板/物品内使用的描述组件。</li><li><code>formats</code> - 部分物品使用的键值对。</li><li><code>options</code> - 部分菜单中出现的特殊设置选项。</li></ul><h2 id="填充-fill" tabindex="-1">填充（<code>fill</code>） <a class="header-anchor" href="#填充-fill" aria-label="Permalink to &quot;填充（`fill`）&quot;">​</a></h2><p><code>fill</code> 部分决定填充菜单空格的物品。该部分有两个必填设置：</p><ul><li><code>enabled</code> - 是否启用该功能。</li><li><code>material</code> - 填充物品的材料名称。</li></ul><p>填充物品的名称会自动转为空格，所以其名称不可见。可添加额外键以其他物品相同的格式设置物品的元数据。</p><h2 id="物品-items" tabindex="-1">物品（<code>items</code>） <a class="header-anchor" href="#物品-items" aria-label="Permalink to &quot;物品（`items`）&quot;">​</a></h2><blockquote><p>主条目：<a href="https://wiki.aurelium.dev/slate/items" target="_blank" rel="noreferrer">Slate/物品</a></p></blockquote><p><code>itmes</code> 部分设置菜单内的按钮。见<a href="https://wiki.aurelium.dev/slate/items" target="_blank" rel="noreferrer">主条目</a>了解配置物品材料、NBT 及描述等内容的教程。</p><h2 id="模板-templates" tabindex="-1">模板（<code>templates</code>） <a class="header-anchor" href="#模板-templates" aria-label="Permalink to &quot;模板（`templates`）&quot;">​</a></h2><blockquote><p>主条目：<a href="https://wiki.aurelium.dev/slate/templates" target="_blank" rel="noreferrer">Slate/模板</a></p></blockquote><p><code>templates</code> 部分设置一个菜单内重复出现的物品样式。见<a href="https://wiki.aurelium.dev/slate/templates" target="_blank" rel="noreferrer">主条目</a>了解配置模板的教程。</p><h2 id="组件-components" tabindex="-1">组件（<code>components</code>） <a class="header-anchor" href="#组件-components" aria-label="Permalink to &quot;组件（`components`）&quot;">​</a></h2><blockquote><p>主条目：<a href="https://wiki.aurelium.dev/slate/components" target="_blank" rel="noreferrer">Slate/组件</a></p></blockquote><p><code>components</code> 部分用于配置模板内用到的一些描述。见<a href="https://wiki.aurelium.dev/slate/components" target="_blank" rel="noreferrer">主条目</a>了解更多。</p><h2 id="格式-formats" tabindex="-1">格式（<code>formats</code>） <a class="header-anchor" href="#格式-formats" aria-label="Permalink to &quot;格式（`formats`）&quot;">​</a></h2><p><code>formats</code> 是用于设置其他物品或模板内描述等内容的键值对。通常情况下，在物品/模板中以方括号结尾标明为数组的变量，如 <code>{条目[]}</code>，会使用来自该部分配置的内容来作为数组中的元素。尽管格式的名称不一定要匹配变量，但非常建议为其命名时至少体现其功能。</p><h2 id="选项-options" tabindex="-1">选项（<code>options</code>） <a class="header-anchor" href="#选项-options" aria-label="Permalink to &quot;选项（`options`）&quot;">​</a></h2><h3 id="skills" tabindex="-1">skills: <a class="header-anchor" href="#skills" aria-label="Permalink to &quot;skills:&quot;">​</a></h3><ul><li><code>bar_length</code> - 经验进度条中显示的总字符数量。也影响升级菜单的经验条。</li></ul><h4 id="level-progression" tabindex="-1">level_progression: <a class="header-anchor" href="#level-progression" aria-label="Permalink to &quot;level_progression:&quot;">​</a></h4><ul><li><code>use_level_as_amount</code> - 当为 true 时，等级模板（<code>unlocked</code>、<code>in_progress</code> 与 <code>locked</code>）会将其物品数量设置为对应等级（例如 30 级时菜单内的对应物品数量也会设置为 30）。超过最大堆叠数（通常为 64）的时候，会使用 <code>over_max_stack_amount</code> 的值。</li><li><code>over_max_stack_amount</code> - 超出最大堆叠数时在按钮中显示的物品数量。仅在 <code>use_level_as_amount</code> 为 true 时有效。</li><li><code>item_per_page</code> - 每页菜单显示的技能物品（<code>unlocked</code>、<code>in_progress</code> 与 <code>locked</code>）数量。</li><li><code>start_level</code> - 路线内第一个物品显示的等级。</li><li><code>track</code> - 取值范围为 0 至 54 的数字列表，用于定位物品。路径的索引匹配了单页菜单内技能等级物品的位置，因此其长度应当与 <code>items_per_page</code> 匹配。</li></ul><h3 id="sources" tabindex="-1">sources: <a class="header-anchor" href="#sources" aria-label="Permalink to &quot;sources:&quot;">​</a></h3><ul><li><code>source_start</code> - 经验来源图标排序的起始位置（左上角）。</li><li><code>source_end</code> - 经验来源图标排序的终止位置（右下角）。</li><li><code>items_per_page</code> - 每页菜单显示的经验来源图标数量。</li><li><code>use_track</code> - 是否使用 <code>track</code> 中的设置来决定物品位置，而非上述 <code>source_start</code> 与 <code>source_end</code> 参数。</li><li><code>track</code> - 取值范围为 0 至 54 的数字列表，用于定位物品。</li></ul><h2 id="颜色与格式" tabindex="-1">颜色与格式 <a class="header-anchor" href="#颜色与格式" aria-label="Permalink to &quot;颜色与格式&quot;">​</a></h2><p>菜单文件默认使用 <a href="https://docs.advntr.dev/minimessage/format.html" target="_blank" rel="noreferrer">MiniMessage</a> 格式。样式通过尖角括号标签（<code>&lt;标签&gt;</code>）与可选的闭合标签（<code>&lt;/标签&gt;</code>）组成。旧的 Bukkit 颜色格式（如 <code>&amp;a</code>）同样支持，尽管 MiniMessage 有着更大的优势而被建议使用。</p><p>可使用的普通颜色名称有 <code>black</code>、<code>dark_blue</code>、<code>dark_green</code>、<code>dark_aqua</code>、<code>dark_red</code>、<code>dark_purple</code>、<code>gold</code>、<code>gray</code>、<code>dark_gray</code>、<code>blue</code>、<code>green</code>、<code>aqua</code>、<code>red</code>、<code>light_purple</code>、<code>yellow</code>、或 <code>white</code>。</p><p>也可以按 <code>&lt;#RRGGBB&gt;</code> 的格式使用十六进制彩色。见 MiniMessage 文档浏览完整格式。部分诸如悬浮提示框和点击动作的功能在这里可能无法生效。</p><h2 id="变量" tabindex="-1">变量 <a class="header-anchor" href="#变量" aria-label="Permalink to &quot;变量&quot;">​</a></h2><p>菜单配置中使用的变量使得插件能够视情况插入消息与数据。按不同目的可将其大体分为三类：</p>',39)),s("ul",null,[e[10]||(e[10]=s("li",null,[a("单花括号（"),s("code",null,"{示例}"),a("）- 由插件内部替换的变量数据，如玩家等级与经验值。通常情况下只在默认位置（或物品附加的组件）有效，因此不应放到别的地方使用。")],-1)),s("li",null,[e[0]||(e[0]=a("双花括号（")),s("code",null,k(n.示例),1),e[1]||(e[1]=a("）- 按路径 ")),e[2]||(e[2]=s("code",null,"menus.[菜单名称].[变量]",-1)),e[3]||(e[3]=a(" 搜寻消息配置内对应文本的消息变量。")),e[4]||(e[4]=s("code",null,"[菜单名称]",-1)),e[5]||(e[5]=a(" 为菜单名称，而 ")),e[6]||(e[6]=s("code",null,"[变量]",-1)),e[7]||(e[7]=a(" 则为双花括号中的文本。若键不存在，则它会寻找 ")),e[8]||(e[8]=s("code",null,"menus.common.[变量]",-1)),e[9]||(e[9]=a(" 对应的消息。玩家设置的语言决定消息文本的来源，允许单个菜单配置显示多种语言。"))]),e[11]||(e[11]=s("li",null,[a("PlaceholderAPI 变量（"),s("code",null,"%示例%"),a("）- 以百分符号标注的变量为 PlaceholderAPI 变量。它们既可以为 AuraSkills 的变量，也可以是其他插件的变量。必须安装 PlaceholderAPI 插件（及必要的变量拓展）才可生效。")],-1))]),e[13]||(e[13]=l(`<h2 id="自定义菜单" tabindex="-1">自定义菜单 <a class="header-anchor" href="#自定义菜单" aria-label="Permalink to &quot;自定义菜单&quot;">​</a></h2><p>自定义菜单可以在 <code>menus</code> 文件夹中以 <code>.yml</code> 后缀的形式存在。文件的名称即为通过命令与其他菜单引用的名称。自定义菜单与其他菜单使用的格式相同，但模板、组件、格式与选项部分不会生效。PlacholderAPI 与点击操作仍可用于这种菜单。</p><p>自定义菜单可以通过命令 <code>/sk openmenu</code> 命令打开，或在其他菜单内设置点击动作进入。</p><p>如下为位于 <code>menus/test.yml</code>，名为 test 的自定义菜单示例：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">title</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">测试菜单</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">fill</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  enabled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">black_stained_glass_pane</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  test</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">diamond</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    display_name</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&lt;green&gt;测试物品</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    lore</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&lt;red&gt;测试描述</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39; &#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&lt;yellow&gt;点击返回技能主界面</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    on_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">menu</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">open</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">skills</span></span></code></pre></div><p>这个菜单可以从其他菜单的点击操作中进入，如技能菜单中的 your_skills 物品：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">items</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  your_skills</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    on_click</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      - </span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">menu</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">open</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        menu</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">test</span></span></code></pre></div>`,7)),t(o),t(d)])}const f=r(c,[["render",u]]);export{_ as __pageData,f as default};
