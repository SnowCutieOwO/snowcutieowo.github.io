import{_ as t,C as a,c as n,o as h,am as d,G as s}from"./chunks/framework.SAy2jMg1.js";const y=JSON.parse('{"title":"来源","description":"","frontmatter":{"breadcrumbs":[{"title":"Continue Project","link":"/AuraSkills"},{"title":"来源","link":"/AuraSkills/sources"}]},"headers":[],"relativePath":"AuraSkills/sources.md","filePath":"AuraSkills/sources.md"}'),o={name:"AuraSkills/sources.md"};function p(c,i,r,k,E,g){const e=a("NolebaseGitContributors"),l=a("NolebaseGitChangelog");return h(),n("div",null,[i[0]||(i[0]=d(`<h1 id="来源" tabindex="-1">来源 <a class="header-anchor" href="#来源" aria-label="Permalink to &quot;来源&quot;">​</a></h1><p>配置经验来源的教程</p><p><strong>经验来源（Sources）</strong> 是能给予玩家技能经验的特定游戏行为。包括挖矿和击杀实体。每个技能的经验来源都在 <code>sources</code> 文件夹中，名称分别对应。每个来源的经验数量均可修改，且可添加新来源并对其进行配置。</p><h2 id="默认配置" tabindex="-1">默认配置 <a class="header-anchor" href="#默认配置" aria-label="Permalink to &quot;默认配置&quot;">​</a></h2><p><code>default</code> 部分在来源配置中用于减少重复工作量。其下的每个设置都会复制到每条 <code>sources</code> 下的来源配置，除非对应区域进行了覆盖配置。</p><p>例如，下面是带有默认配置的来源配置：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">brewing</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">takeout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  menu_item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">potion</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">sources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  awkward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ingredient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nether_wart</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    xp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    menu_item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      potion_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">awkward</span></span></code></pre></div><p>与下面不带默认配置的来源配置等价：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">sources</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  awkward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">brewing</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 从前面的默认配置复制而来</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">takeout</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 从前面的默认配置复制而来</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    ingredient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nether_wart</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    xp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    menu_item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># menu_item 部分配置与前面的默认配置相结合</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">potion</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 从前面的默认配置复制而来</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      potion_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 来源本身要求的设置键</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">awkward</span></span></code></pre></div><p>默认配置使得多个共用设置的相同来源技能有更简洁的配置结构。</p><h2 id="类型" tabindex="-1">类型 <a class="header-anchor" href="#类型" aria-label="Permalink to &quot;类型&quot;">​</a></h2><p>每个来源都需要有一个用于决定动作类型的 <code>type</code>。如果你发现某些配置没有这部分配置，则表明它使用来自 <code>default</code> 部分的值。</p><p>每个来源都有对应名称，即设置部分的键名。这个名称可用于标签部分的来源引用。每个技能的经验来源都不可有重复名称。</p><div class="info custom-block"><p class="custom-block-title">信息</p><p>部分选项包含复数形式单词的列表，如 <code>block</code> 与 <code>blocks</code>。如果配置中有这类名称，则不应使用其单数形式作键名。</p></div><h3 id="全局设置" tabindex="-1">全局设置 <a class="header-anchor" href="#全局设置" aria-label="Permalink to &quot;全局设置&quot;">​</a></h3><p>如下设置对所有类型的经验来源通用：</p><ul><li><code>xp</code> - 经验来源给予的经验值。此为基准数值，即不包含任何能力、权限或物品修饰符的倍率。（必填）</li><li><code>display_name</code> - 菜单中用于表示来源的可读名称。默认来源的名称已经在消息文件的 <code>sources.[类型].[名称]</code> 部分设置。若你需要为新建经验来源覆盖已有消息或本地化文本，则你就需要在来源配置中填写 <code>display_name</code> 项。</li><li><code>menu_item</code> - 经验来源菜单中代表该类型来源的物品。可以在诸如 <code>material</code> 的地方使用其他键的变量，以此在默认部分单独设置一个 <code>menu_item</code>。见<a href="./sources">#菜单物品</a>了解详情。 <ul><li><code>Oraxen</code> 物品可以通过 <code>oraxen:</code> 开头的物品 ID 显示。例如，<code>menu_item: oraxen:mythril</code> 会使用 Oraxen 中对应的物品，并包含其完整 NBT。这相当于在 <code>menu_item</code> 上直接定义了一串字符串值，而不是像普通物品那样展开了更详细的设置。</li></ul></li><li><code>unit</code> - 用于定义部分动态经验来源变量的名称，如每点伤害获取的防御经验值，或每点铁砧消耗经验获取的锻造经验值。只有部分需要单位才可显示的经验值才需要。见指定类型部分获取可填入的值列表。</li><li><code>income_per_xp</code> - 基于获取的经验值给予的经济数量。仅在<a href="./main-config">主配置</a>启用了职业的情况下有效。该设置与主配置的同名设置作用相同，但此设置优先级更高，可按经验来源分别覆盖。与 income 和 income_experience 互斥。</li><li><code>income</code> - 触发该经验来源时给予固定数量的钱。仅在启用职业的情况下有效。与 income_per_xp 和 income_expression 互斥。</li><li><code>income_expression</code> - 计算所获经济的表达式，与<a href="./main-config">主配置</a>中的 jobs.income.default.expression 作用相同。仅在启用职业的情况下有效。与 income_per_xp 和 income 互斥。</li></ul><h3 id="铁砧" tabindex="-1">铁砧 <a class="header-anchor" href="#铁砧" aria-label="Permalink to &quot;铁砧&quot;">​</a></h3><p>该来源（<code>type: anvil</code>）会在玩家使用铁砧结合物品时给予经验。</p><h4 id="设置" tabindex="-1">设置 <a class="header-anchor" href="#设置" aria-label="Permalink to &quot;设置&quot;">​</a></h4><ul><li><code>left_item</code> - 决定铁砧内左侧格子有效物品的过滤列表。（必填）</li><li><code>right_item</code> - 决定铁砧内右侧格子有效物品的过滤列表。（必填）</li><li><code>multiplier</code> - 基础经验值的乘值变量。目前只能填入 <code>{repair_cost}</code>，即铁砧内消耗的经验数量。</li></ul><h3 id="方块" tabindex="-1">方块 <a class="header-anchor" href="#方块" aria-label="Permalink to &quot;方块&quot;">​</a></h3><p>该来源（<code>type: block</code>）会在玩家挖掘或交互方块时给予经验。选项可用于设置复杂经验来源，如多种方块或指定状态的方块。</p><h4 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>block</code> - 方块类型/材料。必须为全小写的有效 Bukkit <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html" target="_blank" rel="noreferrer">材料名</a>。 <ul><li><code>Oraxen</code> 物品可以通过 <code>oraxen:</code> 开头的物品 ID 显示。例如，<code>block: oraxen:mythril_ore</code> 会使用 Oraxen 中对应的方块，而无需手动定义 <code>state</code>。</li></ul></li><li><code>blocks</code> - 用于为多个方块分至同一经验来源组的列表。会覆盖 <code>block</code> 选项。</li><li><code>trigger</code> - 方块的动作类型。可以为 <code>break</code> 或 <code>interact</code>。<code>break</code> 即为玩家左键破坏方块，<code>interact</code> 则为右键点击。（必填）</li><li><code>triggers</code> - 多个触发类型。</li><li><code>check_replace</code> - 玩家放置的方块是否给予经验。若为 true，放置的方块将无法给予经验值。若为 false，只要方块匹配上述设置，即可给予经验。默认为 true。</li><li><code>state</code> - 一系列键名，用于决定方块匹配的状态。</li><li><code>states</code> - 一系列列表，用于匹配列表中的方块状态。</li><li><code>after_state</code> - 交互后的下一刻检查的方块状态。若方块不匹配 <code>after_state</code> 中设置的状态，则不会获得经验。仅在 <code>trigger</code> 设置为 <code>interact</code> 时有效。</li><li><code>after_states</code> - 交互后的下一刻检查的方块状态。经验只会在方块匹配其内任一状态时给予。</li><li><code>state_multiplier</code> - 带有方块状态的表达式，用于乘算给予的基础经验值 <code>xp</code>。</li><li><code>support_block</code> - 用于表示失去支撑即会坠落的重力类方块。可填入 <code>above</code>、<code>below</code>、<code>side</code> 和 <code>none</code>。这可以确保方块不会在间接破坏后被标记为由玩家放置。</li><li><code>trunk</code> - 方块类型是否为原木。“伐树者”能力通过该选项检查可破坏的方块。默认为 false。</li><li><code>leaf</code> - 方块类型是否为树叶。“伐树者”能力通过该选项检查可破坏的方块。默认为 false。</li></ul><h3 id="炼药" tabindex="-1">炼药 <a class="header-anchor" href="#炼药" aria-label="Permalink to &quot;炼药&quot;">​</a></h3><p>炼药经验来源（<code>type: brewing</code>）会在玩家通过炼药台制作药水时给予经验。</p><h4 id="选项-1" tabindex="-1">选项 <a class="header-anchor" href="#选项-1" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>ingredient</code> - 用于设置有效药水原料的过滤列表。</li><li><code>trigger</code> - 给予经验的时间，可为 <code>brew</code> 或 <code>takeout</code>。使用前者会导致自动炼药机会持续给予放置炼药台的玩家经验。</li></ul><h3 id="伤害" tabindex="-1">伤害 <a class="header-anchor" href="#伤害" aria-label="Permalink to &quot;伤害&quot;">​</a></h3><p>伤害经验来源（<code>type: damage</code>）在玩家受伤时给予经验。默认来源中，防御与敏捷经验来源均依靠它。返回的经验值为 <code>xp</code> 键的值与所受伤害的乘积。</p><h4 id="选项-2" tabindex="-1">选项 <a class="header-anchor" href="#选项-2" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>cause</code> - 造成伤害的来源。必须为有效的全小写 Bukkit <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/event/entity/EntityDamageEvent.DamageCause.html" target="_blank" rel="noreferrer">伤害原因</a>。</li><li><code>causes</code> - 多个伤害来源的列表。</li><li><code>excluded_cause</code> - 排除的伤害来源列表。如果不指定 <code>cause</code>/<code>causes</code>，则该列表效果与黑名单相同。</li><li><code>excluded_causes</code> - 多个伤害来源的列表。</li><li><code>damager</code> - 对玩家造成伤害的实体列表。可为 <code>mob</code>、<code>player</code> 或任一全小写的 Bukkit <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/EntityType.html" target="_blank" rel="noreferrer">实体类型</a>。设置该选项后会自动忽略非实体伤害，如坠落伤害。</li><li><code>damagers</code> - 多个有效实体类型的列表。</li><li><code>excluded_damager</code> - 排除的伤害来源实体列表。</li><li><code>excluded_damagers</code> - 多个排除的伤害来源实体列表。</li><li><code>must_survive</code> - 要求玩家必须受伤后仍然存活才可获得经验。默认为 true。</li><li><code>use_original_damage</code> - 结算经验是否使用无任何减伤（盔甲、属性、能力等）的原数值。默认为 true。</li><li><code>cooldown_ms</code> - 经验获取的时间间隔，单位为毫秒（默认值为 200）。</li></ul><h3 id="附魔" tabindex="-1">附魔 <a class="header-anchor" href="#附魔" aria-label="Permalink to &quot;附魔&quot;">​</a></h3><p>附魔经验来源（<code>type: enchanting</code>）会在玩家通过附魔台为物品增加魔咒时给予经验。</p><h4 id="选项-3" tabindex="-1">选项 <a class="header-anchor" href="#选项-3" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>item</code> - 获得经验时参与附魔的物品。（必填）</li><li><code>unit</code> - 多倍经验的单位。目前必须为 <code>&#39;{sources.units.enchant_level}&#39;</code></li></ul><h3 id="实体" tabindex="-1">实体 <a class="header-anchor" href="#实体" aria-label="Permalink to &quot;实体&quot;">​</a></h3><p>实体经验来源（<code>type: entity</code>）会在玩家击杀或攻击实体时给予经验。</p><h4 id="选项-4" tabindex="-1">选项 <a class="header-anchor" href="#选项-4" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>entity</code> - 有效的 Bukkit 实体类型，用于指定获得经验所需击杀/攻击的实体。（必填）</li><li><code>trigger</code> - 给予经验的时机，可为死亡时（<code>death</code>）或受伤时（<code>damage</code>）。（必填）</li><li><code>triggers</code> - 多个给予经验的时机设置。</li><li><code>damager</code> - 给予经验时匹配的伤害来源，可为 <code>player</code>、<code>projectile</code>、<code>thrown_potion</code>。</li><li><code>damagers</code> - 给予经验时匹配的多个伤害来源。</li><li><code>scale_xp_with_health</code> - 若 <code>trigger</code> 为 <code>damage</code>，则攻击经验倍率会受实体生命上限影响。击杀实体获取的总经验无论使用何种方法均相同。默认为 true。</li><li><code>cause</code> - 算作有效来源的伤害原因。必须为有效的 Bukkit <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/event/entity/EntityDamageEvent.DamageCause.html" target="_blank" rel="noreferrer">伤害原因</a>。</li><li><code>causes</code> - 算作有效来源的多个伤害原因。</li><li><code>excluded_cause</code> - 排除的伤害来源列表。如果不指定 <code>cause</code>/<code>causes</code>，则该列表效果与黑名单相同。</li><li><code>excluded_causes</code> - 多个伤害来源的列表。</li></ul><h3 id="钓鱼" tabindex="-1">钓鱼 <a class="header-anchor" href="#钓鱼" aria-label="Permalink to &quot;钓鱼&quot;">​</a></h3><p>钓鱼经验来源（<code>type: fishing</code>）会在玩家钓鱼时给予经验。</p><h4 id="选项-5" tabindex="-1">选项 <a class="header-anchor" href="#选项-5" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>item</code> - 给予经验时所需钓上的物品。</li></ul><h3 id="砂轮" tabindex="-1">砂轮 <a class="header-anchor" href="#砂轮" aria-label="Permalink to &quot;砂轮&quot;">​</a></h3><p>砂轮经验来源（<code>type: grindstone</code>）会在玩家通过砂轮祛魔时给予经验。</p><h4 id="选项-6" tabindex="-1">选项 <a class="header-anchor" href="#选项-6" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>multiplier</code> - 结算经验值通过该值与 <code>xp</code> 相乘得到。目前只能填入 <code>&#39;{total_level}&#39;</code>，即为砂轮去除所有附魔的等级。</li></ul><h3 id="物品消耗" tabindex="-1">物品消耗 <a class="header-anchor" href="#物品消耗" aria-label="Permalink to &quot;物品消耗&quot;">​</a></h3><p>物品消耗经验来源（<code>type: item_comsume</code>）会在玩家消耗药水或物品时给予经验。</p><h4 id="选项-7" tabindex="-1">选项 <a class="header-anchor" href="#选项-7" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>item</code> - 给予经验时所需消耗的物品。（必填）</li></ul><h3 id="跳跃" tabindex="-1">跳跃 <a class="header-anchor" href="#跳跃" aria-label="Permalink to &quot;跳跃&quot;">​</a></h3><p>跳跃经验来源（<code>type: jumping</code>）会在玩家跳跃时给予经验。</p><h4 id="选项-8" tabindex="-1">选项 <a class="header-anchor" href="#选项-8" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>interval</code> - 给予经验所需的跳跃次数。每次跳跃给予的经验数为 %\\frac{xp}{interval}%。默认为 100。</li></ul><h3 id="使用魔法能力" tabindex="-1">使用魔法能力 <a class="header-anchor" href="#使用魔法能力" aria-label="Permalink to &quot;使用魔法能力&quot;">​</a></h3><p>魔法能力经验来源（<code>type: mana_ability_use</code>）会在玩家使用魔法能力时给予经验。给予的经验总数为消耗的魔力与 <code>xp</code> 相乘所得值。</p><h4 id="选项-9" tabindex="-1">选项 <a class="header-anchor" href="#选项-9" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>mana_ability</code> - 给予经验时使用的魔法能力。</li><li><code>mana_abilities</code> - 给予经验时使用的多个魔法能力。</li></ul><h3 id="投掷药水" tabindex="-1">投掷药水 <a class="header-anchor" href="#投掷药水" aria-label="Permalink to &quot;投掷药水&quot;">​</a></h3><p>投掷药水经验来源（<code>type: potion_splash</code>）会在玩家使用喷溅型或滞留型药水时生效。</p><h4 id="选项-10" tabindex="-1">选项 <a class="header-anchor" href="#选项-10" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>item</code> - 获取经验所需的药水类型。（必填）</li></ul><h3 id="统计数据" tabindex="-1">统计数据 <a class="header-anchor" href="#统计数据" aria-label="Permalink to &quot;统计数据&quot;">​</a></h3><p>统计数据经验来源（<code>type: statistic</code>）会在玩家的某一原版统计数据值发生变动时给予经验。经验通过 <code>skills.yml</code> 下耐力部分的 <code>xp_gain_period</code> 设置的间隔给予。默认为五分钟。若要让经验来源生效，必须将 <code>spigot.yml</code> 下的 <code>stats.disable-saving</code> 设置为 false（默认即是如此，因此除非你先前有过改动，否则无需检查）。</p><h4 id="选项-11" tabindex="-1">选项 <a class="header-anchor" href="#选项-11" aria-label="Permalink to &quot;选项&quot;">​</a></h4><ul><li><code>statistic</code> - 跟踪的统计数据。必须为有效的全小写 Bukkit <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Statistic.html" target="_blank" rel="noreferrer">统计数据</a>。（必填）</li><li><code>multiplier</code> - 基础经验值的乘值变量。（默认为 1）</li><li><code>minimum_increase</code> - 检查时间内触发经验增加的统计数据增加值下限。若未到达最小值，会累积至下一次检查时间中。（默认为 1）</li></ul><h2 id="物品过滤" tabindex="-1">物品过滤 <a class="header-anchor" href="#物品过滤" aria-label="Permalink to &quot;物品过滤&quot;">​</a></h2><p>多个含有 <code>item</code>、<code>ingredient</code> 或相似设置的经验来源设置可以使用物品过滤格式，用于更精确地过滤物品。可以通过这个功能限制完全相同的物品，或在判断多个物品时更宽泛。</p><h3 id="全局选项" tabindex="-1">全局选项 <a class="header-anchor" href="#全局选项" aria-label="Permalink to &quot;全局选项&quot;">​</a></h3><ul><li><code>material</code> - 物品的材料名。必须为有效的全小写 Bukkit <a href="https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Material.html" target="_blank" rel="noreferrer">材料名</a>。</li><li><code>materials</code> - 多个物品的材料名。</li><li><code>excluded_material</code> - 排除的物品材料名。</li><li><code>excluded_materials</code> - 排除的多个物品材料名。</li><li><code>category</code> - 匹配一系列物品的分类名称。有效值为 <code>weapon</code>、<code>armor</code>、<code>tool</code>、<code>fishing_junk</code> 和 <code>fishing_treasure</code>。</li></ul><h3 id="直接值" tabindex="-1">直接值 <a class="header-anchor" href="#直接值" aria-label="Permalink to &quot;直接值&quot;">​</a></h3><p>在部分你只要求一种物品的情况下，你可以将材料名指定为值而非子设置。</p><p>例如：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ingredient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nether_wart</span></span></code></pre></div><p>与如下设置等价：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">ingredient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nether_wart</span></span></code></pre></div><h3 id="元选项" tabindex="-1">元选项 <a class="header-anchor" href="#元选项" aria-label="Permalink to &quot;元选项&quot;">​</a></h3><p>可以用于更进一步地设置所需的物品而非单纯填入材料名。这些选项都与全局选项为同一缩进（和 <code>item</code> 或 <code>ingredient</code> 一样为一级缩进）。</p><ul><li><code>display_name</code> - 匹配物品的显示名称。</li><li><code>lore</code> - 匹配物品的描述。</li><li><code>potion_data</code> - 匹配物品的药水数据。 <ul><li><code>type</code> - 有效的全小写 Bukkit <a href="https://hub.spigotmc.org/javadocs/spigot/org/bukkit/potion/PotionType.html" target="_blank" rel="noreferrer">药水类型</a>。</li><li><code>types</code> - 多个有效的药水类型。</li><li><code>excluded_type</code> - 排除的药水类型。</li><li><code>excluded_types</code> - 多个排除的药水类型。</li><li><code>extended</code> - 药水是否为延时增强型。</li><li><code>upgraded</code> - 药水是否为效果增强型。</li></ul></li><li><code>custom_model_data</code> - 用于匹配物品的自定义模型数据。物品的材料名与该设置均需完全匹配才有效。</li></ul><h3 id="示例" tabindex="-1">示例 <a class="header-anchor" href="#示例" aria-label="Permalink to &quot;示例&quot;">​</a></h3><p>如下为 item_consume 来源的示例物品过滤器：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">drink_regular</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">item_consume</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 物品过滤部分名称</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">potion</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 消耗的物品必须为药水</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    potion_data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      # 药水类型不能为粗制、浓稠、平凡或普通水瓶</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      excluded_types</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mundane</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">thick</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">water</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">awkward</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      extended</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 药水不能为延时增强型</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      upgraded</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> # 药水不能为效果增强型</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  xp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span></span></code></pre></div><p>在酿造来源中的示例物品过滤器：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">regular</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">brewing</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">takeout</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  ingredient</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 物品过滤部分名称</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    # 原料不能为如下物品</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    excluded_materials</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">redstone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">glowstone_dust</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nether_wart</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">gunpowder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">dragon_breath</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ]</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  xp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">15</span></span></code></pre></div><h2 id="菜单物品" tabindex="-1">菜单物品 <a class="header-anchor" href="#菜单物品" aria-label="Permalink to &quot;菜单物品&quot;">​</a></h2><p>正如上述所说，<code>menu_item</code> 部分定义经验来源菜单的图标。该部分的格式在 <a href="https://wiki.aurelium.dev/slate/items" target="_blank" rel="noreferrer">Slate 维基的物品章节</a>中有详细讲述。</p><p>内建变量可以引用 menu_item 内其他部分的物品。</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">default</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">block</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  trigger</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">break</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  menu_item</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    material</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;{block}&#39;</span></span></code></pre></div><p>如上默认部分配置的示例会替换 <code>{block}</code> 变量为每个来源配置中 <code>block</code> 的值。如果泥土来源为 <code>block: dirt</code>，则返回的菜单物品材料即为 <code>material: &#39;dirt&#39;</code>。</p><h2 id="标签" tabindex="-1">标签 <a class="header-anchor" href="#标签" aria-label="Permalink to &quot;标签&quot;">​</a></h2><p>来源文件的 <code>tags</code> 部分用于配置某个能力或机制的来源列表。你不能在这里添加或移除标签，只能修改标签所在列表。</p><p>例如，<code>farming_luck_applicable</code> 标签是“耕作幸运”特征的双倍掉落奖励触发的来源。</p><h3 id="通配与排除" tabindex="-1">通配与排除 <a class="header-anchor" href="#通配与排除" aria-label="Permalink to &quot;通配与排除&quot;">​</a></h3><p>默认情况下你不会在列表中看到来源名称，而是由一个 <code>*</code> 表示。这会在标签里添加所有来源至技能。</p><p>若你想要从列表中排除某个来源且已经有了通配符，你可以将其开头加上 <code>!</code> 表示排除：</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  farming_luck_applicable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;*&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;!sugar_cane&#39;</span></span></code></pre></div><p>上述实例中，所有除了甘蔗的经验来源都会对耕作幸运生效。</p><div class="language-YAML vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">YAML</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">tags</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  farming_luck_applicable</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">wheat</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">potato</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">carrot</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    - </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">beetroot</span></span></code></pre></div><p>这个实例中展示了耕作幸运只对小麦、土豆、胡萝卜和甜菜根生效。需要注意的是列表中使用的名称都是来源名称（在 <code>sources</code> 部分下的名称），而不是来源内的 <code>block</code> 值。</p>`,102)),s(e),s(l)])}const m=t(o,[["render",p]]);export{y as __pageData,m as default};
