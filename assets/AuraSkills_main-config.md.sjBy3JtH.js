import{_ as i,C as o,c as a,o as r,am as t,G as l}from"./chunks/framework.SAy2jMg1.js";const f=JSON.parse('{"title":"主配置文件","description":"","frontmatter":{"breadcrumbs":[{"title":"Continue Project","link":"/AuraSkills"},{"title":"主配置文件","link":"/AuraSkills/main-config"}]},"headers":[],"relativePath":"AuraSkills/main-config.md","filePath":"AuraSkills/main-config.md"}'),s={name:"AuraSkills/main-config.md"};function n(u,e,_,h,p,m){const d=o("NolebaseGitContributors"),c=o("NolebaseGitChangelog");return r(),a("div",null,[e[0]||(e[0]=t('<h1 id="主配置文件" tabindex="-1">主配置文件 <a class="header-anchor" href="#主配置文件" aria-label="Permalink to &quot;主配置文件&quot;">​</a></h1><p>配置文件 <code>config.yml</code> 相关</p><p><code>config.yml</code> 是位于 <code>plugins/AuraSkills</code> 文件夹下的主插件配置。它用于调整存储/数据库、外部插件对接、语言设置、ActionBar、BossBar、世界/区域、修饰符、条件等全局或杂项内容的设置。</p><p>每个<a href="./skills">技能</a>和属性的选项曾位于这里，但后来独立为了 <code>skills.yml</code> 和 <code>stats.yml</code> 文件。</p><p>如果你的配置文件缺少了某项内容，可能是因为本页尚未及时更新或移除。你可以在插件的<a href="https://github.com/Archy-X/AureliumSkills/blob/master/Changelog.txt" target="_blank" rel="noreferrer">更新日志</a>中详细了解配置的改动。</p><p>最后更新版本：<code>2.2.3</code></p><h2 id="选项" tabindex="-1">选项 <a class="header-anchor" href="#选项" aria-label="Permalink to &quot;选项&quot;">​</a></h2><h3 id="sql" tabindex="-1">SQL <a class="header-anchor" href="#sql" aria-label="Permalink to &quot;SQL&quot;">​</a></h3><p><code>sql:</code></p><ul><li><code>enabled</code> - 是否启用 SQL 数据存储（需重启才可生效）。</li><li><code>type</code> - 使用的 SQL 数据库类型；目前仅支持 <code>mysql</code>。</li><li><code>host</code> - SQL 的域名</li><li><code>port</code> - 端口号（需为数字）</li><li><code>database</code> - 数据库名称（必须已存在）</li><li><code>username</code> - SQL 用户名</li><li><code>password</code> - SQL 密码</li><li><code>load_delay</code> - 在玩家加入后载入数据的延迟时间，适用于多服共用一个数据库时玩家的数据同步情况。</li><li><code>always_load_on_join</code> - 若为 true，插件总会在玩家上线后从数据库内读取数据，无论其是否已载入。</li><li><code>ssl</code> - 是否使用 SSL。</li><li><code>maxium_pool_size</code>、<code>minimum_idle</code>、<code>connection_timeout</code>、<code>max_lifetime</code>、<code>keepalive_time</code> - 用于配置 Hikari 连接池的选项。盲目改动后果自负。</li></ul><h3 id="语言" tabindex="-1">语言 <a class="header-anchor" href="#语言" aria-label="Permalink to &quot;语言&quot;">​</a></h3><p><code>default_language</code> - 玩家使用的默认语言；必须拥有匹配的文件（如：设置为 <code>en</code> 时要求存在 <code>messages_en.yml</code> 文件）</p><p><code>try_detect_client_language</code> - 若设置为 <code>true</code>，插件会跟随检测客户端语言。仅对未通过命令设置语言或重启后语言选择被重置的玩家有效。若客户端语言不存在于插件侧，插件会使用 <code>default_language</code> 代表的语言。若为 <code>false</code>，则插件会让所有玩家使用 <code>default_language</code> 代表的语言。</p><p><code>languages</code> - 玩家可通过 <code>/skills lang &lt;语言&gt;</code> 切换的语言列表；必须有对应的匹配名称。自定义语言也可在此处设置。</p><h3 id="对接" tabindex="-1">对接 <a class="header-anchor" href="#对接" aria-label="Permalink to &quot;对接&quot;">​</a></h3><p><code>hooks:</code></p><ul><li><code>enabled</code> - 是否注册给定插件的对接事件。它只会在对应插件被检测到且启用时才会尝试对接，因此服务器上没有对应插件时也可放心将其设置为 <code>true</code>。部分插件，如 HolographicDisplays 和 DecentHolograms 功能相同，因此二者必须择其一禁用。</li></ul><p>部分插件对应的特殊选项在下文列出：</p><h4 id="luckperms" tabindex="-1">LuckPerms <a class="header-anchor" href="#luckperms" aria-label="Permalink to &quot;LuckPerms&quot;">​</a></h4><ul><li><code>LuckPerms:</code><ul><li><code>use_permission_cache</code> - 是否启用缓存 LuckPerms 权限的功能用于优化倍率（修饰符，下同）计算。若你通过某些功能如世界情境修改了倍率而没有触发 LuckPerms 事件，则你可能需要将其设置为 false。</li></ul></li></ul><h4 id="worldguard" tabindex="-1">WorldGuard <a class="header-anchor" href="#worldguard" aria-label="Permalink to &quot;WorldGuard&quot;">​</a></h4><ul><li><code>WorldGuard:</code><ul><li><code>blocked_regions</code> - 这些区域内的玩家无法自然获取技能经验值。</li><li><code>blocked_check_replace_region</code> - 这些区域内重复放置的方块可以获取经验值。</li></ul></li></ul><h4 id="actionbar" tabindex="-1">ActionBar <a class="header-anchor" href="#actionbar" aria-label="Permalink to &quot;ActionBar&quot;">​</a></h4><ul><li><code>action_bar</code><ul><li><code>enabled</code> - 是否启用 ActionBar 显示功能（若设置则必须设置为 <code>true</code>；设置为 <code>false</code> 会禁用所有类型的 ActionBar）。</li><li><code>idle</code> - 决定正常（无经验获取）状态下的 ActionBar 是否显示。<strong>若你不需要在屏幕底部显示生命或魔力值，则请将其设置为 false。</strong></li><li><code>ability</code> - 决定能力提示（准备/取消、触发等状态）。若设置为 false，则能力相关消息只会在聊天栏显示。</li><li><code>xp</code> - 决定经验获取提示是否显示（非满级情况下）。</li><li><code>maxed</code> - 决定满级后经验获取提示是否显示。</li><li><code>update_period</code> - ActionBar 刷新间隔（若 ActionBar 导致服务器卡顿，请将此值调高）。</li><li><code>round_xp</code> - 若启用，当前显示经验值会被取整。</li><li><code>placeholder_api</code> - 是否在 ActionBar 内替换 PlaceholderAPI 变量（若安装对应插件且有变量）。</li><li><code>use_suffix</code> - 是否将玩家经验值缩写为带单位的数字（k、m 等）。仅在 <code>xp</code> 为 true 时有效。</li><li><code>format_last</code> - 若为 true，MiniMessage 的判断会后于变量（如血量和魔力值）解析。这可以让 MiniMessage 以牺牲性能为代价渲染渐变文本。</li><li><code>update_sync</code> - 若为 true，则 ActionBar 消息会异步更新。此为实验性功能。</li></ul></li></ul><h4 id="bossbar" tabindex="-1">BossBar <a class="header-anchor" href="#bossbar" aria-label="Permalink to &quot;BossBar&quot;">​</a></h4><p><code>boss_bar:</code></p><ul><li><code>enabled</code> - 是否在获取经验时显示 BossBar。</li><li><code>mode</code> - 可以为 <code>single</code> 或 <code>multi</code>。后者表示收集经验值时会同时显示多条 BossBar，而前者表示只显示一条。</li><li><code>stay_time</code> - BossBar 显示后持续停留时间的长度，单位为刻。</li><li><code>update_every</code> - 连续收集经验值时 BossBar 的更新间隔，若此功能造成卡顿请调高该值。</li><li><code>round_xp</code> - 若启用，当前显示经验值会被取整。</li><li><code>use_suffix</code> - 是否将玩家经验值缩写为带单位的数字（k、m 等）。</li><li><code>format</code> - 允许你为技能分别设置 BossBar 样式。 <ul><li>格式：<code>[技能名称] [颜色] [样式]</code></li><li>可用颜色有：BLUE（蓝）、GREEN（绿）、PINK（粉）、PURPLE（紫）、WHITE（白）、RED（红）、YELLOW（黄）</li><li>可用样式有：PROGRESS（无分割）、NOTCHED_6（六段分割）、NOTCHED_10（十段分割）、NOTCHED_12（十二段分割）、NOTCHED_20（二十段分割）</li></ul></li><li><code>animate_progress</code> - 切换 BossBar 动画（更新进度之间的延迟）。</li></ul><h4 id="职业" tabindex="-1">职业 <a class="header-anchor" href="#职业" aria-label="Permalink to &quot;职业&quot;">​</a></h4><p><code>jobs:</code></p><ul><li><code>enabled</code> - 是否启用职业系统。即便选择功能被禁用，该功能也应当保持开启，否则经验来源功能会出现问题。使用该功能还需要安装 Vault 及任意支持 Vault 的经济插件。</li><li><code>selection:</code><ul><li><code>require_selection</code> - 玩家是否需要选择职业才可获得经验。若为 false 则所有技能都可以对应方式获取经验值。</li><li><code>default_job_limit</code> - 玩家默认可选择的最大职业数。可通过权限 <code>auraskills.jobs.limit.[数字]</code> 对单独玩家限制。</li><li><code>disabled_unselected_xp</code> - 若为 true，玩家只能收集选中职业的经验。</li><li><code>cooldown_sec</code> - 玩家选择新职业后再次选择职业的冷却时间。</li></ul></li><li><code>income:</code><ul><li><code>use_xp</code> - 是否按 <code>default.income_per_xp</code> 的值将获取的经验换算为经济奖励一并给予。</li><li><code>use_expression</code> - 是否按 <code>default.expression</code> 的内容给予玩家经济奖励。会覆盖上述 <code>use_xp</code> 选项。</li><li><code>default:</code><ul><li><code>income_per_xp</code> - 经验来源换算为经济奖励的倍率。例如，当该选项的值为 0.1 时，获取 14 点技能经验会给予玩家 1.4 单位的 Vault 货币。</li><li><code>expression</code> - 经验来源换算为经济奖励的计算公式。在 <code>use_default</code> 为 true 时生效。可用变量有 xp、base_xp（无倍率经验值）、level（技能等级）、power 和 skill_average。</li></ul></li><li><code>batching:</code><ul><li><code>enabled</code> - 若为 true，经验值会间隔给予而非立即获得。这可以在规模较大的服务器上减轻大量经济获取导致的卡顿。获得经验值的有效速率不受影响。</li><li><code>interval_ms</code> - 开启本功能时获得经验的最小延迟。例如，该值设置为 2000 时，每次获得经验时都会使得系统检查上一次经验获取的时间。若相差时间大于 2000 毫秒（2秒），则立即给予玩家，否则延迟到相差时间满足两秒再给予玩家。</li><li><code>display_individual</code> - 若为 true，则 BossBar 显示原有而非延时获取的经验值。这表示若该项为 false 且启用了分次给予功能，则部分 BossBar 将不会显示经验获取，且 BossBar 执行分次给予功能时会显示完整数量。</li></ul></li><li><code>use_final_xp</code> - 若设置为 false，income_per_xp 的计算会合并所有经验倍率。</li></ul></li></ul><div class="info custom-block"><p class="custom-block-title">信息</p><p>职业收入也可以在<a href="./sources">来源配置</a>中单独调整。</p></div><h4 id="反挂机" tabindex="-1">反挂机 <a class="header-anchor" href="#反挂机" aria-label="Permalink to &quot;反挂机&quot;">​</a></h4><p><code>anti_afk:</code></p><ul><li><code>enabled</code> - 是否启用反挂机系统。</li><li><code>logging_enabled</code> - 在启用反挂机检查时是否对验证失败的行为进行记录。日志将会发送给任何拥有 auraskills.notify 权限（默认 OP）的玩家。</li><li><code>log_threshold</code> - 用于决定记录事件所需的条件。下文用于检查设置中类型的 min_count 变量也可以用在表达式内。</li><li><code>checks:</code><ul><li><code>[检查名称]:</code><ul><li><code>enabled</code> - 是否启用该检查类型。</li><li><code>min_count</code> - 触发阻止经验获取的最小条件数量。计数会随着玩家符合检查条件的次数增多（位置、俯仰角或身份）并在满足不同条件时重置。</li><li><code>max_distance</code> - 基于坐标/位置的检查允许的最大移动范围。超出该范围即视作检查失败。</li></ul></li></ul></li></ul><h4 id="攻击指示悬浮字" tabindex="-1">攻击指示悬浮字 <a class="header-anchor" href="#攻击指示悬浮字" aria-label="Permalink to &quot;攻击指示悬浮字&quot;">​</a></h4><p><code>damage-holograms:</code></p><ul><li><code>enabled</code> - 启用/禁用攻击指示器（需安装 HolographicDisplays 或 DecentHolograms 并在配置文件中启用对接）。</li><li><code>scaling</code> - 显示在悬浮字上的数值是否根据 <code>stats.yml</code> 中的 <code>action_bar_scaling</code> 选项进行乘算。</li><li><code>decimal:</code><ul><li><code>display_when_less_than:</code> - 小于该数值的攻击显示为小数。</li><li><code>max_amount</code> - 显示小数的最大位数。</li></ul></li><li><code>offset:</code><ul><li><code>x</code> - X 轴偏移量</li><li><code>y</code> - Y 轴偏移量</li><li><code>z</code> - Z 轴偏移量</li><li><code>random:</code><ul><li><code>enabled</code> - 是否启用随机悬浮字位置。</li><li><code>x_min</code> - X 轴最小偏移量</li><li><code>x_max</code> - X 轴最大偏移量</li><li><code>y_min</code> - Y 轴最小偏移量</li><li><code>y_max</code> - Y 轴最大偏移量</li><li><code>z_min</code> - Z 轴最小偏移量</li><li><code>z_max</code> - Z 轴最大偏移量</li></ul></li></ul></li></ul><h4 id="排行榜" tabindex="-1">排行榜 <a class="header-anchor" href="#排行榜" aria-label="Permalink to &quot;排行榜&quot;">​</a></h4><p><code>leaderboards:</code></p><ul><li><code>update_period</code> - 排行榜更新间隔，单位为刻。</li><li><code>update_delay</code> - 服务器启动后多久更新排行榜，单位为刻（启动时的立即更新忽略不计）。</li></ul><p><code>start_level</code> - 玩家起始的技能等级。默认为 0，可设置为 1 回退至 Beta 版机制。</p><p><code>enable_skill_commands</code> - 诸如 <code>/farming</code> 和 <code>/mining</code> 的技能名称命令是否可以用于打开对应技能菜单（需要重启服务器才可生效）。</p><p><code>check_block_replace:</code></p><ul><li><code>enabled</code> - 玩家放置的方块是否能重复获得经验值；在没有遇到插件兼容性的前提下请将其保持在默认的 <code>true</code>。</li><li><code>blocked_worlds</code> - 处于此列表中的世界不会检查方块重新放置。这些世界中会无视 <code>enabled</code> 的值禁用检查。</li></ul><h4 id="世界与区域" tabindex="-1">世界与区域 <a class="header-anchor" href="#世界与区域" aria-label="Permalink to &quot;世界与区域&quot;">​</a></h4><p><code>blocked_worlds</code> - 这些世界中的玩家无法自然获取技能经验值。</p><p><code>disabled_worlds</code> - 这些世界中会禁用本插件的大部分功能，包括但不限于属性、能力、经验获取及 ActionBar（命令与菜单仍然可使用）。</p><p><code>disable_in_creative_mode</code> - 是否在创造模式下禁用玩家的经验值获取。</p><h4 id="数据校验" tabindex="-1">数据校验 <a class="header-anchor" href="#数据校验" aria-label="Permalink to &quot;数据校验&quot;">​</a></h4><p><code>data_validation:</code></p><ul><li><code>correct_over_max_level</code> - 若为 true，插件会在玩家进入时检查技能等级是否超过上限，若有则进行削减。</li></ul><h4 id="死亡选项" tabindex="-1">死亡选项 <a class="header-anchor" href="#死亡选项" aria-label="Permalink to &quot;死亡选项&quot;">​</a></h4><p><code>on_death:</code></p><ul><li><code>reset_skills</code> - 是否在玩家死亡时重置技能等级。</li><li><code>reset_xp</code> - 是否在玩家死亡时重置当前等级的技能经验值。技能等级不受影响。</li></ul><h4 id="自动保存" tabindex="-1">自动保存 <a class="header-anchor" href="#自动保存" aria-label="Permalink to &quot;自动保存&quot;">​</a></h4><p><code>auto_save:</code></p><ul><li><code>enabled</code> - 在线玩家的数据是否定时保存而非只在离开游戏时保存。若服务器因崩溃导致玩家数据丢失，则该功能会很有用。</li><li><code>interval_ticks</code> - 执行自动保存的时间间隔（单位为刻）。</li></ul><h4 id="升级" tabindex="-1">升级 <a class="header-anchor" href="#升级" aria-label="Permalink to &quot;升级&quot;">​</a></h4><p><code>leveler:</code></p><ul><li><code>title:</code><ul><li><code>enabled</code> - 是否在技能升级时显示标题信息。</li><li><code>fade_in</code> - 标题的淡入时间，单位为刻。</li><li><code>stay</code> - 标题的持续时间，单位为刻。</li><li><code>fade_out</code> - 标题的淡出时间，单位为刻。</li></ul></li><li><code>sound:</code><ul><li><code>enabled</code> - 是否在技能升级时播放音效。</li><li><code>type</code> - 播放的声音类型（必须为有效的声音名称）。</li><li><code>category</code> - 播放的声音所属分类。</li><li><code>volume</code> - 声音的音量。</li><li><code>pitch</code> - 声音的音调。</li></ul></li><li><code>double_check_delay</code> - 一次获取大量经验值的升级检查间隔，单位为刻（值越小显示越快）。</li></ul><h4 id="魔力相关" tabindex="-1">魔力相关 <a class="header-anchor" href="#魔力相关" aria-label="Permalink to &quot;魔力相关&quot;">​</a></h4><p><code>mana:</code></p><ul><li><code>enabled</code> - 若为 false，魔法能力将不会消耗魔力，且其不再显示在 ActionBar 与菜单中。</li><li><code>cooldown_timer_period</code> - 魔法能力释放的间隔。增加该值可减轻魔法能力的 TimerCooldown 导致的卡顿。全局冷却时间相同。需要重启才可生效。</li></ul><h4 id="修饰符-旧译-倍率" tabindex="-1">修饰符（旧译“倍率”） <a class="header-anchor" href="#修饰符-旧译-倍率" aria-label="Permalink to &quot;修饰符（旧译“倍率”）&quot;">​</a></h4><p><code>modifier:</code></p><ul><li><code>armor:</code><ul><li><code>equip_blocked_materials</code> - 该列表中的物品在右键点击时不会获得盔甲属性；即列表中的物品无视其原版属性。</li><li><code>item:</code><ul><li><code>check_period</code> - 玩家手中的物品检查属性修饰符的间隔（若遇到卡顿问题请将该值调高）。</li><li><code>enable_off_hand</code> - 属性修饰符是否对副手同样生效。</li></ul></li><li><code>auto_convert_from_legacy</code> - 是否将旧修饰符格式转化为新版。如果你先前使用过 Beta 版插件且设计了物品，请将该选项设置为 true 以防止原有物品属性失效。</li></ul></li></ul><h4 id="条件" tabindex="-1">条件 <a class="header-anchor" href="#条件" aria-label="Permalink to &quot;条件&quot;">​</a></h4><p><code>requirement:</code></p><ul><li><code>enabled</code> - 是否对条件进行检查。若你没有用到条件，禁用它可提升性能。</li><li><code>item:</code><ul><li><code>prevent_tool_use</code> - 未满足要求的物品是否无法用于破坏方块。</li><li><code>prevent_weapon_use</code> - 未满足要求的物品是否无法用于攻击生物。</li><li><code>prevent_block_place</code> - 未满足要求的方块是否无法被放置。</li><li><code>prevent_interact</code> - 未满足要求的物品是否无法进行交互。</li><li><code>global</code> - 决定物品默认拥有的条件。 格式：<code>- &#39;[材料名称] [技能名称1]:[限制等级1] [技能名称2]:[限制等级2] ...&#39;</code></li></ul></li><li><code>armor:</code><ul><li><code>prevent_armor_equip</code> - 未满足要求的防具是否无法装备。</li><li><code>global</code> - 决定物品默认拥有的条件。 格式：<code>- &#39;[材料名称] [技能名称1]:[限制等级1] [技能名称2]:[限制等级2] ...&#39;</code></li></ul></li><li><code>override_gloval</code> - 若为 true，上述设置的全局条件会在单独设置物品条件时覆盖。</li></ul><h4 id="暴击" tabindex="-1">暴击 <a class="header-anchor" href="#暴击" aria-label="Permalink to &quot;暴击&quot;">​</a></h4><p><code>critical:</code></p><ul><li><code>base_multiplier</code> - 暴击伤害的基础倍率。</li><li><code>enabled</code> - 该分类下的选项控制指定物品是否可造成暴击。（<code>hand</code> 表示空手，<code>other</code> 表示持有不在列表中的物品生效）。</li></ul><h4 id="来源" tabindex="-1">来源 <a class="header-anchor" href="#来源" aria-label="Permalink to &quot;来源&quot;">​</a></h4><p><code>grindstone:</code></p><ul><li><code>blocked_enchants</code> - 列表中的附魔在砂轮中被去除后不活的经验值。请将自定义附魔插件的不可移除/诅咒类附魔填入此处。</li></ul><p><code>statistic:</code></p><ul><li><code>gain_period_ticks</code> - 统计数据类技能给予经验值的间隔。这不会改变经验收集的有效速率，仅对统计数据检查时间进行调整。</li></ul><p><code>entity:</code></p><ul><li><code>give_alchemy_on_potion_combat</code> - 通过药水击杀/伤害实体是否增加炼金而非近战/箭术经验。</li></ul><h4 id="菜单" tabindex="-1">菜单 <a class="header-anchor" href="#菜单" aria-label="Permalink to &quot;菜单&quot;">​</a></h4><p><code>menus:</code></p><ul><li><code>lore_wrapping_width</code> - 启用自动换行时达到换行要求的字符数量。</li><li><code>placeholder_api</code> - 是否在菜单中解析 PlaceholderAPI 的变量。</li><li><code>stats:</code><ul><li><code>show_trait_values_directly</code> - 若为 true，<code>modifier</code> 为 1 且带有单个特征的属性将会显示特征值而非菜单中的值。这可以让默认拥有 20 生命值的玩家可以包括在显示的等级中。</li></ul></li><li><code>removal_protection</code> - 启用菜单界面按钮的额外保护。</li></ul><h4 id="战利品-旧译-道具池" tabindex="-1">战利品（旧译“道具池”） <a class="header-anchor" href="#战利品-旧译-道具池" aria-label="Permalink to &quot;战利品（旧译“道具池”）&quot;">​</a></h4><p><code>loot:</code></p><ul><li><code>update_loot_tables</code> - 默认配置中的战利品表是否随插件自动更新。</li><li><code>directly_to_inventory</code> - 若为 true，所有受幸运影响的奖励物品都会直接进入玩家背包而非掉落在地。该选项不影响原版的物品掉落。</li></ul><p><code>check_for_updates</code> - 插件是否在启动时检查新版本，并对拥有 <code>auraskills.checkupdates</code> 权限的玩家进行提醒。</p><h4 id="自动备份" tabindex="-1">自动备份 <a class="header-anchor" href="#自动备份" aria-label="Permalink to &quot;自动备份&quot;">​</a></h4><p><code>automatic_backups:</code></p><ul><li><code>enabled</code> - 是否在服务器关闭时启用自动备份。</li><li><code>minimum_interval_hours</code> - 自动保存的最小时间间隔，单位为小时。自动保存只会在该时间后的一小时内进行。</li><li><code>max_users</code> - 若服务器玩家数量超过该数字，跳过自动保存。</li></ul><p><code>save_blank_profiles</code> - 若为 false，未升级任何技能或获得经验的玩家数据不会被保存至数据库。</p>',90)),l(d),l(c)])}const k=i(s,[["render",n]]);export{f as __pageData,k as default};
